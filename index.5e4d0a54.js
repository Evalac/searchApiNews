function e(e,t){const s=e.map((({author:e,content:t,description:s,publishedAt:n,title:r,url:a,urlToImage:i})=>`<article class="news-article">\n        <header class="article-header">\n    <img src="${i}" alt="">\n          <h2 class="article-title">\n            <a href="${a}" target="_blank">${r}</a>\n          </h2>\n          <p class="article-author">Автор:${e}</p>\n          <p class="article-date">Опубліковано:${n}</p>\n        </header>\n        <section class="article-description">\n          <p>${s}</p>\n        </section>\n        <section class="article-content">\n          <p>${t}</p>\n        </section>\n      </article>`)).join("");return t.insertAdjacentHTML("beforeend",s)}const t={searchForm:document.querySelector(".search-form"),loadMoreBtn:document.querySelector('  [data-action="load-more"]'),containerNews:document.querySelector(".contentNews")},s=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spiner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Показати ще",this.refs.spiner.classList.add("is-hidden")}disabled(){this.refs.button.disabled=!0,this.refs.label.textContent="Завантажуєм",this.refs.spiner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){console.log(e),this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]',hidden:!0}),n=new class{fetchArticles(){console.log("before",this);const e={headers:{Authorization:"59ea23f33abe45d5ae23b6a2a5f58a36"}},t=`https://corsproxy.io/?https://newsapi.org/v2/everything?q=${this.searchForm}&language=en&pageSize=4&page=${this.page}`;return fetch(t,e).then((e=>e.json())).then((({articles:e})=>(this.incrementPage(),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchForm}set query(e){this.searchForm=e}constructor(){this.searchForm="",this.page=1}};t.searchForm.addEventListener("submit",(function(r){r.preventDefault(),n.query=r.currentTarget.elements.qwery.value,n.resetPage(),s.disabled(),s.show(),n.fetchArticles().then((n=>{t.containerNews.innerHTML="",e(n,t.containerNews),s.enable(),s.show()}))})),t.loadMoreBtn.addEventListener("click",(function(r){s.disabled(),s.show(),n.fetchArticles().then((n=>{e(n,t.containerNews),s.enable(),s.show()}))}));
//# sourceMappingURL=index.5e4d0a54.js.map
